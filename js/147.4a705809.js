"use strict";(globalThis["webpackChunkoriole_food_cms"]=globalThis["webpackChunkoriole_food_cms"]||[]).push([[147],{8602:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Fe});var l=a(9835);const o={class:"column full-height"},n={class:"col-auto"},s={class:"text-weight-light text-body2 q-pa-lg q-gutter-y-md"},r=(0,l._)("div",null,"Create Date :",-1),d=(0,l._)("div",null,"Category :",-1),i={class:"col"};function c(e,t,a,c,u,y){const g=(0,l.up)("FilterDate"),p=(0,l.up)("q-select"),m=(0,l.up)("List"),b=(0,l.up)("Tabs"),w=(0,l.up)("ReprocessingDetail");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",o,[(0,l._)("div",n,[(0,l._)("section",s,[(0,l._)("div",null,[r,(0,l.Wm)(g,{rules:[],modelValue:e.filters.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.date=t)},null,8,["modelValue"])]),(0,l._)("div",null,[d,(0,l.Wm)(p,{clearable:"",filled:"",dense:"",color:"grey-8",modelValue:e.filters.category,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.category=t),options:["Category1","Category2","Category3"]},null,8,["modelValue"])])])]),(0,l._)("div",i,[(0,l.Wm)(b,{tabs:["Outstanding","Processing","Enquiry"],tab:e.tab,breakpoint:0,align:"left"},{"tab-Outstanding":(0,l.w5)((()=>[(0,l.Wm)(m,{data:e.findOutstanding,onOnDetail:e.onDetail},null,8,["data","onOnDetail"])])),"tab-Processing":(0,l.w5)((()=>[(0,l.Wm)(m,{data:e.findProcessing,onOnDetail:e.onDetail},null,8,["data","onOnDetail"])])),"tab-Enquiry":(0,l.w5)((()=>[(0,l.Wm)(m,{data:e.findEnquiry,onOnDetail:e.onDetail,icon:"search"},null,8,["data","onOnDetail"])])),_:1},8,["tab"])])]),e.order?((0,l.wg)(),(0,l.j4)(w,{key:0,modelValue:e.model,"onUpdate:modelValue":t[2]||(t[2]=t=>e.model=t),headerClass:"bg-yellow-8",data:e.order},null,8,["modelValue","data"])):(0,l.kq)("",!0)],64)}var u=a(499),y=a(7363),g=a(9558),p=a(1120),m=a(2434),b=a(6970);function w(e,t,a,o,n,s){const r=(0,l.up)("q-btn"),d=(0,l.up)("q-toolbar-title"),i=(0,l.up)("q-toolbar"),c=(0,l.up)("StepOutstanding"),u=(0,l.up)("StepProcessing"),y=(0,l.up)("StepEnquiry"),g=(0,l.up)("StepTabs"),p=(0,l.up)("q-card"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(m,{maximized:"","transition-show":"slide-left","transition-hide":"slide-right",modelValue:e.model,"onUpdate:modelValue":t[5]||(t[5]=t=>e.model=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"column full-height"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"bg-yellow-8 text-white col-auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{flat:"",dense:"",round:"",icon:"chevron_left","aria-label":"Back",onClick:t[0]||(t[0]=t=>e.onBack())}),(0,l.Wm)(d,{class:"text-subtitle2 text-weight-regular q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,b.zw)(e.data.orderNo),1)])),_:1})])),_:1}),(0,l.Wm)(g,{class:"col scroll",ref:"elTab",style:{"overflow-y":"scroll"},steps:["Outstanding","Processing","Enquiry"],step:e.step},{"step-Outstanding":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(c,{key:0,data:e.data,onOnNext:t[1]||(t[1]=t=>e.onNext("Processing"))},null,8,["data"])):(0,l.kq)("",!0)])),"step-Processing":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(u,{key:0,data:e.data,onOnNext:t[2]||(t[2]=t=>e.onNext("Enquiry")),onOnSave:t[3]||(t[3]=t=>e.onSave())},null,8,["data"])):(0,l.kq)("",!0)])),"step-Enquiry":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(y,{key:0,data:e.data,onOnCancel:t[4]||(t[4]=t=>e.onCancel())},null,8,["data"])):(0,l.kq)("",!0)])),_:1},8,["step"])])),_:1})])),_:1},8,["modelValue"])}var v=a(5140),q=a(2622);const x={class:"flex justify-center items-center q-pa-lg q-pb-xl bg-grey-1"};function k(e,t,a,o,n,s){const r=(0,l.up)("Detail"),d=(0,l.up)("LabourRequest"),i=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[e.data?((0,l.wg)(),(0,l.j4)(r,{key:0,data:e.data},null,8,["data"])):(0,l.kq)("",!0),e.data?((0,l.wg)(),(0,l.j4)(d,{key:1,data:e.data},null,8,["data"])):(0,l.kq)("",!0),(0,l._)("div",x,[(0,l.Wm)(i,{"no-caps":"",unelevated:"",size:"md",color:"yellow-8",class:"text-caption",style:{width:"50%"},label:"Start Reprocess",onClick:t[0]||(t[0]=t=>e.onNext())})])],64)}const f={class:"text-weight-regular text-body2 text-grey-8 q-pa-lg q-gutter-y-md",style:{"line-height":"23px"}},_=(0,l._)("div",null,"Source :",-1),h={class:"flex text-blue-4 items-center justify-between text-italic"},D=(0,l._)("div",null,"Reprocess :",-1),Z={class:"q-gutter-y-xs"},j={class:"flex text-blue-4 items-center justify-between text-italic"};function O(e,t,a,o,n,s){const r=(0,l.up)("q-separator"),d=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.iD)("section",f,[_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data.stockOut,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"q-gutter-y-xs"},[(0,l._)("div",null,(0,b.zw)(e.description),1),(0,l._)("div",h,[(0,l._)("div",null,(0,b.zw)(e.stockNo),1),(0,l._)("div",null,"x"+(0,b.zw)(e.qty),1)]),(0,l.Wm)(r,{color:"grey-3",class:"q-my-md"})])))),128)),(0,l.Wm)(d,{name:"south",size:"xs",class:"q-my-md",color:"grey-4"}),D,(0,l._)("div",Z,[(0,l._)("div",null,(0,b.zw)(e.data.stockIn.description),1),(0,l._)("div",j,[(0,l._)("div",null,(0,b.zw)(e.data.stockIn.stockNo),1),(0,l._)("div",null,"x"+(0,b.zw)(e.data.stockIn.qty),1)]),(0,l.Wm)(r,{color:"grey-3",class:"q-my-md"})])])}const S=(0,l.aZ)({name:"Detail",props:{readonly:{type:Boolean,default:!1},data:{type:Object,required:!0}}});var C=a(1639),H=a(926),W=a(2857),B=a(9984),L=a.n(B);const z=(0,C.Z)(S,[["render",O]]),R=z;L()(S,"components",{QSeparator:H.Z,QIcon:W.Z});const N={class:"text-weight-regular text-body2 text-grey-8 q-pa-md bg-grey-1 q-gutter-y-sm"},P=(0,l._)("div",{class:"text-body1 text-grey-5"},"Labour Request",-1),T={class:"flex items-center justify-between"},V=(0,l._)("div",null,"Labour :",-1),I={class:"text-italic text-blue-4"},Q={class:"flex items-center justify-between"},Y=(0,l._)("div",null,"Time :",-1),E={class:"text-italic text-blue-4"};function U(e,t,a,o,n,s){return(0,l.wg)(),(0,l.iD)("section",N,[P,(0,l._)("div",T,[V,(0,l._)("div",I,(0,b.zw)(e.data.labour),1)]),(0,l._)("div",Q,[Y,(0,l._)("div",E,(0,b.zw)(e.data.time)+" mins",1)])])}const F=(0,l.aZ)({name:"LabourRequest",props:{readonly:{type:Boolean,default:!1},data:{type:Object,required:!0}}}),K=(0,C.Z)(F,[["render",U]]),M=K,G=(0,l.aZ)({components:{Detail:R,LabourRequest:M},props:{data:{type:Object,required:!0}},emits:["on-next"],setup(e,t){const a=()=>{t.emit("on-next")};return{onNext:a}}});var J=a(4455);const A=(0,C.Z)(G,[["render",k]]),X=A;L()(G,"components",{QBtn:J.Z});const $={class:"row q-col-gutter-x-md q-pa-lg q-pb-xl bg-grey-1"},ee={class:"col-7"},te={class:"col-5"};function ae(e,t,a,o,n,s){const r=(0,l.up)("OrderForm"),d=(0,l.up)("Detail"),i=(0,l.up)("LabourRequest"),c=(0,l.up)("Tabs"),u=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c,{tabs:["Process","Details"],tab:e.tab},{"tab-Process":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(r,{key:0,data:e.data},null,8,["data"])):(0,l.kq)("",!0)])),"tab-Details":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(d,{key:0,data:e.data},null,8,["data"])):(0,l.kq)("",!0),e.data?((0,l.wg)(),(0,l.j4)(i,{key:1,data:e.data},null,8,["data"])):(0,l.kq)("",!0)])),_:1},8,["tab"]),(0,l._)("div",$,[(0,l._)("div",ee,[(0,l.Wm)(u,{"no-caps":"",unelevated:"",size:"md",color:"yellow-8",class:"text-caption full-width",label:"Submit",onClick:t[0]||(t[0]=t=>e.onNext())})]),(0,l._)("div",te,[(0,l.Wm)(u,{"no-caps":"",unelevated:"",size:"md",color:"grey-3",class:"text-caption full-width",label:"Save",onClick:t[1]||(t[1]=t=>e.onSave())})])])],64)}const le={class:"q-gutter-y-lg q-pa-lg"},oe={class:"q-gutter-y-md"},ne=(0,l._)("div",{class:"text-body2"},"1. Signin",-1),se={class:"q-gutter-y-md"},re=(0,l._)("div",{class:"text-body2"},"2. Stock Out",-1),de={class:"flex justify-between text-body2 text-blue-13 q-my-sm",style:{opacity:"0.6"}},ie={class:"row"},ce=(0,l._)("div",{class:"text-body2"},"3. Start Reprocess",-1),ue=(0,l._)("div",{class:"text-body2"},"4. Printing Labels",-1),ye=(0,l._)("div",{class:"text-body2"},"5. Stock In",-1),ge={class:"flex justify-between text-body2 text-blue-13 q-my-sm",style:{opacity:"0.6"}},pe={class:"row"},me={class:"fit q-mt-md"},be=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-weight-regular text-body2 text-grey-8 text-left"},"SKU"),(0,l._)("th",{class:"text-weight-regular text-body2 text-grey-8"},"Weight"),(0,l._)("th",{class:"text-weight-regular text-body2 text-grey-8 text-right"},"Qty")])],-1),we={key:0},ve={class:"text-weight-regular text-body2 text-grey-8 text-center"},qe={class:"text-weight-regular text-body2 text-grey-8 text-right"};function xe(e,t,a,o,n,s){const r=(0,l.up)("q-input"),d=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",le,[(0,l._)("div",oe,[ne,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.readonly?e.data.signin:e.staffBarcodes,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"row"},[(0,l.Wm)(r,{outlined:"",dense:"",label:"staff barcode","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:(0,b.C_)(e.readonly?"col-12":"col-8"),readonly:e.readonly,"model-value":t.barcode},null,8,["class","readonly","model-value"]),e.readonly?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:0,unelevated:"","no-caps":"",color:"grey-8",label:"Scan",class:"text-weight-regular col-4",style:{opacity:"0.6"}}))])))),128))]),(0,l._)("div",se,[re,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.readonly?e.data.stockOut:e.stockOutBarcodes,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[(0,l._)("div",de,[(0,l._)("i",null,(0,b.zw)(t.stockNo),1),(0,l._)("i",null,"x"+(0,b.zw)(t.qty),1)]),(0,l._)("div",ie,[(0,l.Wm)(r,{outlined:"",dense:"",label:"staff barcode","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:(0,b.C_)(e.readonly?"col-12":"col-8"),readonly:e.readonly,"model-value":t.barcode},null,8,["class","readonly","model-value"]),e.readonly?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:0,unelevated:"","no-caps":"",color:"grey-8",label:"Scan",class:"text-weight-regular col-4",style:{opacity:"0.6"}}))])])))),128))]),(0,l._)("div",null,[ce,e.readonly?((0,l.wg)(),(0,l.j4)(r,{key:0,outlined:"",dense:"",readonly:"",label:"start printing","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:"col q-my-md","model-value":e.data.startReprocess},null,8,["model-value"])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[e.form.startReprocess?((0,l.wg)(),(0,l.j4)(r,{key:1,outlined:"",dense:"",readonly:"",label:"start record","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:"col q-my-md","model-value":e.form.startReprocess},null,8,["model-value"])):((0,l.wg)(),(0,l.j4)(d,{key:0,unelevated:"","no-caps":"",color:"grey-8",label:"Start Record",class:"full-width text-weight-regular q-my-md",style:{opacity:"0.6"},onClick:t[0]||(t[0]=t=>e.getTime("startReprocess"))}))],64))]),(0,l._)("div",null,[ue,e.readonly?((0,l.wg)(),(0,l.j4)(r,{key:0,outlined:"",dense:"",readonly:"",label:"start printing","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:"col q-my-md","model-value":e.data.printingLabels},null,8,["model-value"])):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[e.form.printingLabels?((0,l.wg)(),(0,l.j4)(r,{key:1,outlined:"",dense:"",readonly:"",label:"start printing","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:"col q-my-md","model-value":e.form.printingLabels},null,8,["model-value"])):((0,l.wg)(),(0,l.j4)(d,{key:0,unelevated:"","no-caps":"",color:"grey-8",label:"Start Printing",class:"full-width text-weight-regular q-my-md",style:{opacity:"0.6"},onClick:t[1]||(t[1]=t=>e.getTime("printingLabels"))}))],64))]),(0,l._)("div",null,[ye,(0,l._)("div",null,[(0,l._)("div",ge,[(0,l._)("i",null,(0,b.zw)(e.readonly?e.data.stockIn.stockNo:e.stockInBarcodes.stockNo),1),(0,l._)("i",null,"x"+(0,b.zw)(e.readonly?e.data.stockIn.qty:e.stockInBarcodes.qty),1)]),(0,l._)("div",pe,[(0,l.Wm)(r,{outlined:"",dense:"",label:"Generate Barcode","bg-color":"grey-1",color:"grey-8",style:{opacity:"0.6"},class:(0,b.C_)(e.readonly?"col-12":"col-8"),readonly:e.readonly,"model-value":e.data.stockIn.barcode},null,8,["class","readonly","model-value"]),e.readonly?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:0,unelevated:"","no-caps":"",color:"grey-8",label:"Scan",class:"text-weight-regular col-4",style:{opacity:"0.6"}}))])]),(0,l._)("table",me,[be,e.readonly?((0,l.wg)(),(0,l.iD)("tbody",we,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data.stockInList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,b.zw)(e.sku),1),(0,l._)("td",ve,(0,b.zw)(e.weight),1),(0,l._)("td",qe,(0,b.zw)(e.qty),1)])))),128))])):(0,l.kq)("",!0)])])])}var ke=a(796),fe=a(4170);const _e=(0,l.aZ)({name:"OrderForm",props:{readonly:{type:Boolean,default:!1},data:{type:Object,required:!0}},setup(){const e=(0,u.iH)([{id:(0,ke.Z)(),barcode:"",qty:1},{id:(0,ke.Z)(),barcode:"",qty:8}]),t=(0,u.iH)([{id:(0,ke.Z)(),stockNo:"ZZBU018",barcode:"",qty:1},{id:(0,ke.Z)(),stockNo:"PL01234",barcode:"",qty:8}]),a=(0,u.iH)({id:(0,ke.Z)(),stockNo:"ZZBU018",barcode:"",qty:8}),l=(0,u.iH)([{id:(0,ke.Z)(),sku:"0378585742",weight:"250g",qty:2},{id:(0,ke.Z)(),sku:"0378585742",weight:"252g",qty:4},{id:(0,ke.Z)(),sku:"0378585742",weight:"248g",qty:2}]),o=(0,u.iH)({startReprocess:"",printingLabels:""}),n=e=>{const t=(0,u.iH)(fe.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm"));"startReprocess"===e?o.value.startReprocess=t.value:"printingLabels"===e&&(o.value.printingLabels=t.value)};return{form:o,staffBarcodes:e,stockInBarcodes:a,stockOutBarcodes:t,stockIntList:l,getTime:n}}});var he=a(6611);const De=(0,C.Z)(_e,[["render",xe]]),Ze=De;L()(_e,"components",{QInput:he.Z,QBtn:J.Z});const je=(0,l.aZ)({name:"StepProcessing",components:{Tabs:p.Z,OrderForm:Ze,Detail:R,LabourRequest:M},props:{data:{type:Object,required:!0}},emits:["on-next","on-save"],setup(e,t){const a=(0,u.iH)("Process"),l=()=>{t.emit("on-next")},o=()=>{t.emit("on-save")};return{tab:a,onNext:l,onSave:o}}}),Oe=(0,C.Z)(je,[["render",ae]]),Se=Oe;L()(je,"components",{QBtn:J.Z});const Ce={class:"flex justify-center items-center q-pa-lg q-pb-xl bg-grey-1"};function He(e,t,a,o,n,s){const r=(0,l.up)("OrderForm"),d=(0,l.up)("Detail"),i=(0,l.up)("LabourRequest"),c=(0,l.up)("Tabs"),u=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c,{tabs:["Confirmed","Details"],tab:e.tab},{"tab-Confirmed":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(r,{key:0,readonly:"",data:e.data},null,8,["data"])):(0,l.kq)("",!0)])),"tab-Details":(0,l.w5)((()=>[e.data?((0,l.wg)(),(0,l.j4)(d,{key:0,data:e.data},null,8,["data"])):(0,l.kq)("",!0),e.data?((0,l.wg)(),(0,l.j4)(i,{key:1,data:e.data},null,8,["data"])):(0,l.kq)("",!0)])),_:1},8,["tab"]),(0,l._)("div",Ce,[(0,l.Wm)(u,{"no-caps":"",unelevated:"",size:"md",color:"grey-6",class:"text-caption",style:{width:"50%"},label:"Back to list",onClick:t[0]||(t[0]=t=>e.onCancel())})])],64)}const We=(0,l.aZ)({components:{Tabs:p.Z,OrderForm:Ze,Detail:R,LabourRequest:M},props:{data:{type:Object,required:!0}},emits:["on-cancel"],setup(e,t){const a=(0,u.iH)("Confirmed"),l=()=>{t.emit("on-cancel")};return{tab:a,onCancel:l}}}),Be=(0,C.Z)(We,[["render",He]]),Le=Be;L()(We,"components",{QBtn:J.Z});const ze=(0,l.aZ)({name:"DeliveryDetail",components:{StepTabs:q.Z,StepOutstanding:X,StepProcessing:Se,StepEnquiry:Le},props:{modelValue:{type:Boolean,default:!1},data:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,t){const a=(0,u.iH)((0,v.useModelWrapper)(e,t.emit,"modelValue")),l=(0,u.iH)(e.data.status),o=()=>{a.value=!1},n=e=>{l.value=e},s=()=>{a.value=!1},r=()=>{a.value=!1};return{model:a,step:l,onBack:o,onNext:n,onSave:s,onCancel:r}}});var Re=a(7743),Ne=a(4458),Pe=a(1663),Te=a(1973);const Ve=(0,C.Z)(ze,[["render",w]]),Ie=Ve;L()(ze,"components",{QDialog:Re.Z,QCard:Ne.Z,QToolbar:Pe.Z,QBtn:J.Z,QToolbarTitle:Te.Z});var Qe=a(5389);const Ye=(0,l.aZ)({name:"Reprocessing",components:{FilterDate:g.Z,Tabs:p.Z,List:m.Z,ReprocessingDetail:Ie},setup(){const e=(0,Qe.L)(),{findEnquiry:t,findOutstanding:a,findProcessing:l}=(0,y.Jk)(e),o=(0,u.iH)(!1),n=(0,u.iH)("Outstanding"),s=(0,u.iH)({date:"",category:""}),r=(0,u.iH)(),d=e=>{o.value=!0,r.value=e};return{model:o,tab:n,filters:s,order:r,onDetail:d,findEnquiry:t,findOutstanding:a,findProcessing:l}}});var Ee=a(8379);const Ue=(0,C.Z)(Ye,[["render",c]]),Fe=Ue;L()(Ye,"components",{QSelect:Ee.Z})}}]);